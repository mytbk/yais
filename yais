#!/bin/bash
# YAIS: yet another installation script
#
for FILE in yais-func/*
do
	. $FILE
done
EDITOR=vi
funcs=(bash editor partition mount_disk mirrorselect testnet install_pkg install_grub fstab exit)
menuname=(
	"Open a bash shell" \
	"Select an editor(default vi)" \
	"Partitioning" \
	"Mount your partitions" \
	"Select a mirror" \
	"Test the internet" \
	"Install packages" \
	"Install grub" \
	"Generate fstab" \
	"Exit YAIS" \
	)
TODO=1

menu(){
	for i in {0..9} 
	do
		if [ $i == $TODO ]; then
			echo -e -n '\033[31m'
		fi
		echo -e "$i. ${menuname[$i]}\033[0m"
	done
}

while true
do
	clear
	menu
	read FUNCID
	FUNCID=${FUNCID:-$TODO}
	${funcs[$FUNCID]}
	let TODO=FUNCID+1
done

